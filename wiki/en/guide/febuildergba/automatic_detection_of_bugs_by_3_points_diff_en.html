<!DOCTYPE html>

<html class="no-js" dir="ltr" lang="ja">
<head>
<meta charset="utf-8"/>
<title>en:guide:febuildergba:automatic_detection_of_bugs_by_3_points_diff_en [FE改造wiki]</title>
<meta content="DokuWiki" name="generator"/>
<meta content="#008800" name="theme-color"/>
<meta content="index,follow" name="robots"/>
<meta content="en,guide,febuildergba,automatic_detection_of_bugs_by_3_points_diff_en" name="keywords"/>
<!--[if gte IE 9]><!-->
<!--<![endif]-->
<meta content="width=device-width,initial-scale=1" name="viewport"/>
</head>
<body>
<div id="dokuwiki__site"><div class="site dokuwiki mode_show tpl_dokuwiki showSidebar hasSidebar" id="dokuwiki__top">
<!-- ********** HEADER ********** -->
<!-- /header -->
<div class="wrapper group">
<!-- ********** ASIDE ********** -->
<!-- /aside -->
<!-- ********** CONTENT ********** -->
<div id="dokuwiki__content"><div class="pad group">
<div class="pageId"><span>en:guide:febuildergba:automatic_detection_of_bugs_by_3_points_diff_en</span></div>
<div class="page group">
<!-- wikipage start -->
<!-- TOC START -->
<div class="dw__toc" id="dw__toc">
<h3 class="toggle">目次</h3>
<div>
<ul class="toc">
<li class="level1"><div class="li"><a href="#video_how_to_use_diff_debug_tool">Video (How to use Diff debug tool</a></div></li>
<li class="level1"><div class="li"><a href="#automatic_detection_of_bugs_by_3_points_diff">Automatic detection of bugs by 3 points DIFF.</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#advance_to_the_point_where_the_bug_is_reproduced_in_the_emulator">Advance to the point where the bug is reproduced in the emulator.</a></div></li>
<li class="level2"><div class="li"><a href="#launch_difference_debug_tool">Launch Difference Debug Tool.</a></div></li>
<li class="level2"><div class="li"><a href="#screen_explanation">Screen explanation</a></div></li>
<li class="level2"><div class="li"><a href="#look_for_the_rom_that_worked_last">Look for the "ROM that worked last"</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#i_will_try_it">I will try it.</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#section"></a></div></li>
<li class="level2"><div class="li"><a href="#comparative_method_selection">Comparative method selection</a></div></li>
<li class="level2"><div class="li"><a href="#auxiliary_function">Auxiliary function.</a></div></li>
<li class="level2"><div class="li"><a href="#the_basic_idea">The basic idea</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
<h1 class="sectionedit1" id="video_how_to_use_diff_debug_tool">Video (How to use Diff debug tool</h1>
<div class="level1">
<p>
<a class="urlextern" href="https://www.youtube.com/watch?v=ZQ1cX5RbTbY" rel="nofollow" title="https://www.youtube.com/watch?v=ZQ1cX5RbTbY">https://www.youtube.com/watch?v=ZQ1cX5RbTbY</a>
</p>
</div>
<div class="secedit editbutton_section editbutton_1"></div>
<h1 class="sectionedit2" id="automatic_detection_of_bugs_by_3_points_diff">Automatic detection of bugs by 3 points DIFF.</h1>
<div class="level1">
<p>
<a class="media" href="https://i.imgur.com/PGYPMy7.jpg" title="https://i.imgur.com/PGYPMy7.jpg"><img alt="i.imgur.com_pgypmy7.jpg" class="mediacenter" src="https://i.imgur.com/PGYPMy7.jpg" title="i.imgur.com_pgypmy7.jpg"/></a><br/>
<br/>
It is a tool to automatically detect data which is a cause of a bug by using backup data when bug which can not be solved by any means occurs in ROM.<br/>
<br/>
Suppose you have an unknown bug in your ROM.<br/>
This bug is a bug that it is difficult to fix such as checking the setting many times but making a mistake why the game freezes and does not work at all.<br/>
FEBuilderGBA uses various means to protect ROM, but still can not do without occurrence.<br/>
This function is to automatically detect the cause of the bug by taking DIFF with backup data.<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_2"></div>
<h2 class="sectionedit3" id="advance_to_the_point_where_the_bug_is_reproduced_in_the_emulator">Advance to the point where the bug is reproduced in the emulator.</h2>
<div class="level2">
<p>
<a class="media" href="https://i.imgur.com/PGYPMy7.jpg" title="https://i.imgur.com/PGYPMy7.jpg"><img alt="i.imgur.com_pgypmy7.jpg" class="mediacenter" src="https://i.imgur.com/PGYPMy7.jpg" title="i.imgur.com_pgypmy7.jpg"/></a> <br/>
First of all, advance the game with the emulator until the bug is reproduced.<br/>
When the bug comes up to where it reproduces, this tool comes in.<br/>
(Before starting this tool, please save any data that is not written.)<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_3"></div>
<h2 class="sectionedit4" id="launch_difference_debug_tool">Launch Difference Debug Tool.</h2>
<div class="level2">
<p>
<a class="media" href="https://i.imgur.com/e6HNTl2.jpg" title="https://i.imgur.com/e6HNTl2.jpg"><img alt="i.imgur.com_e6hntl2.jpg" class="mediacenter" src="https://i.imgur.com/e6HNTl2.jpg" title="i.imgur.com_e6hntl2.jpg"/></a> <br/>
From the menu, select Tool→ Difference Debug Tool.
</p>
<p>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_4"></div>
<h2 class="sectionedit5" id="screen_explanation">Screen explanation</h2>
<div class="level2">
<p>
<a class="media" href="https://i.imgur.com/2QhvUMl.jpg" title="https://i.imgur.com/2QhvUMl.jpg"><img alt="i.imgur.com_2qhvuml.jpg" class="mediacenter" src="https://i.imgur.com/2QhvUMl.jpg" title="i.imgur.com_2qhvuml.jpg"/></a> <br/>
When you start this tool, the backup data is displayed in order of date.<br/>
The data above the list is new, the more you go down, the older the data.<br/>
Double click on the list, the emulator will start up automatically.<br/>
7z compression and ups etc are automatically changed to gba rom and the emulator starts up.<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_5"></div>
<h2 class="sectionedit6" id="look_for_the_rom_that_worked_last">Look for the "ROM that worked last"</h2>
<div class="level2">
<p>
From the list of backups, look for “the most recent date without bugs”.<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_6"></div>
<h3 class="sectionedit7" id="i_will_try_it">I will try it.</h3>
<div class="level3">
<p>
This time it is a test so we only have three data.<br/>
I think that there are lots of data actually lined up.<br/>
<br/>
<a class="media" href="https://i.imgur.com/EFTRkm6.jpg" title="https://i.imgur.com/EFTRkm6.jpg"><img alt="i.imgur.com_eftrkm6.jpg" class="mediacenter" src="https://i.imgur.com/EFTRkm6.jpg" title="i.imgur.com_eftrkm6.jpg"/></a> <br/>
First of all, let's look at the oldest backup at the bottom of the list.<br/>
Double-click the item in the list to start the emulator.<br/>
<br/>
<a class="media" href="https://i.imgur.com/VLWGWt0.jpg" title="https://i.imgur.com/VLWGWt0.jpg"><img alt="i.imgur.com_vlwgwt0.jpg" class="mediacenter" src="https://i.imgur.com/VLWGWt0.jpg" title="i.imgur.com_vlwgwt0.jpg"/></a> <br/>
It worked normally.<br/>
This seems to be correct data.<br/>
Close the emulator and take a look at the next data.<br/>
<br/>
<a class="media" href="https://i.imgur.com/XbUPwzZ.jpg" title="https://i.imgur.com/XbUPwzZ.jpg"><img alt="i.imgur.com_xbupwzz.jpg" class="mediacenter" src="https://i.imgur.com/XbUPwzZ.jpg" title="i.imgur.com_xbupwzz.jpg"/></a> <br/>
Let's see the data in the middle.<br/>
Likewise, double-click the item in the list to start up the emulator.<br/>
<br/>
<a class="media" href="https://i.imgur.com/cb9XbcE.jpg" title="https://i.imgur.com/cb9XbcE.jpg"><img alt="i.imgur.com_cb9xbce.jpg" class="mediacenter" src="https://i.imgur.com/cb9XbcE.jpg" title="i.imgur.com_cb9xbce.jpg"/></a> <br/>
This also worked normally.<br/>
This seems to be correct data. <br/>
<br/>
<a class="media" href="https://i.imgur.com/i307yPF.jpg" title="https://i.imgur.com/i307yPF.jpg"><img alt="i.imgur.com_i307ypf.jpg" class="mediacenter" src="https://i.imgur.com/i307yPF.jpg" title="i.imgur.com_i307ypf.jpg"/></a> <br/>
Then, how about the backup at the top of the list? <br/>
Double-click the item in the list to start up the emulator.<br/>
<br/>
<a class="media" href="https://i.imgur.com/JWFnDWg.jpg" title="https://i.imgur.com/JWFnDWg.jpg"><img alt="i.imgur.com_jwfndwg.jpg" class="mediacenter" src="https://i.imgur.com/JWFnDWg.jpg" title="i.imgur.com_jwfndwg.jpg"/></a> <br/>
A bug has been reproduced.<br/>
This data seems to be broken.<br/>
<br/>
<a class="media" href="https://i.imgur.com/ktDH4IY.jpg" title="https://i.imgur.com/ktDH4IY.jpg"><img alt="i.imgur.com_ktdh4iy.jpg" class="mediacenter" src="https://i.imgur.com/ktDH4IY.jpg" title="i.imgur.com_ktdh4iy.jpg"/></a><br/>
So, which is the latest backup data that works correctly? <br/>
That is the middle data.<br/>
<br/>
The latest backup data on the top was broken.<br/>
Therefore, the last data that worked correctly is the second data.<br/>
<br/>
Please be careful not to make a mistake here.<br/>
I am looking for the latest backup data that works properly, not broken data. <br/>
Naturally, it is not the bottom.<br/>
The bottom works correctly, but it is not the latest data that works properly.<br/>
<br/>
The latest data that works correctly is the second data.<br/>
This is an important point.<br/>
<br/>
<a class="media" href="https://i.imgur.com/tHtzvji.jpg" title="https://i.imgur.com/tHtzvji.jpg"><img alt="i.imgur.com_thtzvji.jpg" class="mediacenter" src="https://i.imgur.com/tHtzvji.jpg" title="i.imgur.com_thtzvji.jpg"/></a><br/>
When you find the latest data that works correctly, press the button in the lower right to get 3 points DIFF.<br/>
<br/>
</p>
</div>
<div class="level2">
<p>
On the importance of the latest data that works correctly.
</p>
<p>
The latest data that works correctly is very important. <br/>
<br/>
Be sure to look for “the most recent date backup that does not cause bugs”.<br/>
<br/>
Backup data of the next generation of the most recent backup that does not cause bugs is <br/>
It is the oldest backup data that causes a bug. <br/>
<br/>
In other words, somewhere in the difference between the two is the data that is generating a bug. <br/>
<br/>
The program does not work exactly what you thought, it only works as written. <br/>
A bug occurs because We are writing something by mistake. <br/>
Therefore, bugs are always hidden somewhere in the difference between the two ROMs. <br/>
The culprit is certainly in this difference. Let's find it out. <br/>
<br/>
However, if you make various changes, there will be more changes. <br/>
Then, it is difficult to find out. <br/>
Therefore, we narrow down the range by taking the difference from the current ROM data. <br/>
<br/>
Because bugs are occurring in the current ROM as well. <br/>
A similar bug in the current ROM also means that there is similar data in the current ROM. <br/>
<br/>
Among the differences between them, the data present in the current ROM is data that causes a bug. <br/>
<br/>
As the name gets longer, we call it with this tool as follows. <br/>
The most recent backup that does not cause bugs is called OK ROM. <br/>
The oldest backup that causes a bug is called NG ROM. <br/>
The current ROM is called CURRENT. <br/>
<br/>
It is in OK ROM, it is not in NG ROM. <br/>
And it is in OK ROM,  it is not in CURRENT. <br/>
Also, it exists in NG ROM and CURRENT. <br/>
<br/>
We will use three point DIFF for data that satisfies these three conditions. <br/>
Push the button. <br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_7"></div>
<h2 class="sectionedit8" id="comparative_method_selection">Comparative method selection</h2>
<div class="level2">
<p>
<a class="media" href="https://i.imgur.com/HnUzcYl.jpg" title="https://i.imgur.com/HnUzcYl.jpg"><img alt="i.imgur.com_hnuzcyl.jpg" class="mediacenter" src="https://i.imgur.com/HnUzcYl.jpg" title="i.imgur.com_hnuzcyl.jpg"/></a> <br/>
A comparison method will come out, but choose the top method.<br/>
(This is the condition explained earlier) ~.<br/>
<br/>
Then the calculation is done and the result of 3 points DIFF is displayed in the list.<br/>
<br/>
<br/>
<a class="media" href="https://i.imgur.com/UxGB3MA.jpg" title="https://i.imgur.com/UxGB3MA.jpg"><img alt="i.imgur.com_uxgb3ma.jpg" class="mediacenter" src="https://i.imgur.com/UxGB3MA.jpg" title="i.imgur.com_uxgb3ma.jpg"/></a> <br/>
<br/>
There is data that is causing bugs in this.<br/>
Let's find out.<br/>
(There is only one this time.)<br/>
<br/>
Let's adapt the listed difference appropriately. <br/>
Press the 1 key to write the data of OK ROM. <br/>
Press the 2 key to write the data of NG ROM. <br/>
Press the 3 key to write the data of CURRENT. <br/>
Press the 0 key to write the data of CURRENT And clears the write mark.<br/>
<br/>
<a class="media" href="https://i.imgur.com/hu9XD8i.jpg" title="https://i.imgur.com/hu9XD8i.jpg"><img alt="i.imgur.com_hu9xd8i.jpg" class="mediacenter" src="https://i.imgur.com/hu9XD8i.jpg" title="i.imgur.com_hu9xd8i.jpg"/></a> <br/>
Basically, please press the 1 key to write the data. <br/>
After writing the data, please press the F5 key to start up the emulator. <br/>
Please check the operation.<br/>
Has the bug been resolved? <br/>
<br/>
If the bug has not been resolved, it seems this data is not. <br/>
Let's write the following data. <br/>
<br/>
Of course, since the differential data is forcibly written, the game may not work. <br/>
In that case, press the 3 key to restore the CURRENT data. <br/>
<br/>
Let's merge the differences like this. ~<br/>
<a class="media" href="https://i.imgur.com/DZmH9nF.jpg" title="https://i.imgur.com/DZmH9nF.jpg"><img alt="i.imgur.com_dzmh9nf.jpg" class="mediacenter" src="https://i.imgur.com/DZmH9nF.jpg" title="i.imgur.com_dzmh9nf.jpg"/></a> <br/>
<br/>
If the bug was resolved, it is the data that is causing the bug. <br/>
Let's estimate the cause from the data address and the written contents. <br/>
<br/>
When you find the address that resolved the bug, it seems that data other than that data is unrelated, so let's return to CURRENT by pressing the 3 key. <br/>
Also at this time, I will check whether the bug will reoccur while returning the data. <br/>
Perhaps, the perpetrator may not be alone but multiple perpetrators. Let's watch out. <br/>
<br/>
<br/>
Well, by merging the data, the problem has been solved. <br/>
If the problem is solved by merging the differences, that's fine. <br/>
If so, let's investigate what is in the address where the data was written. <br/>
Let's set a break point and observe the behavior using the debugger. <br/>
Something strange should be there. <br/>
<br/>
This time, I specified the wrong map object in map setting. <br/>
Originally I have to specify 0x01, but since 0x02 was specified, the screen was broken. <br/>
<a class="media" href="https://i.imgur.com/RxFJoU8.jpg" title="https://i.imgur.com/RxFJoU8.jpg"><img alt="i.imgur.com_rxfjou8.jpg" class="mediacenter" src="https://i.imgur.com/RxFJoU8.jpg" title="i.imgur.com_rxfjou8.jpg"/></a> <br/>
<br/>
<br/>
Using this method, we can fix mysterious bugs in around an hour. <br/>
By all means, if you get a bug that you do not know the cause, you may want to explore the bug data in this way. <br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_8"></div>
<h2 class="sectionedit9" id="auxiliary_function">Auxiliary function.</h2>
<div class="level2">
<p>
<a class="media" href="https://i.imgur.com/UxGB3MA.jpg" title="https://i.imgur.com/UxGB3MA.jpg"><img alt="i.imgur.com_uxgb3ma.jpg" class="mediacenter" src="https://i.imgur.com/UxGB3MA.jpg" title="i.imgur.com_uxgb3ma.jpg"/></a> <br/>
If you are merging data and you do not understand well, please press the button on the bottom right. <br/>
“Cancel all changes”. <br/>
Rewinds all data to the data just before starting merge. <br/>
With this you can merge again and again. <br/>
<br/>
Let's ease it as you get used to using the tool. <br/>
If there is a large amount of data, hold down the SHIFT key and press the 1 key. <br/>
It automatically moves the focus to the next data by writing data. <br/>
Keep pressing the key all the time, the writing continues more and more. <br/>
It might be good to do something like binary search of checking the operation after about half merging. <br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_9"></div>
<h2 class="sectionedit10" id="the_basic_idea">The basic idea</h2>
<div class="level2">
<p>
This feature simplifies bug fixes by binary comparison I wrote a long time ago. <br/>
It is troublesome to merge two points with a binary comparison tool and so it is possible to merge easily with a 3 point merge, narrowing down the changes.<br/>
<br/>
<a class="urlextern" href="http://ngmansion.xyz/wiki/hackfe/index.php?cmd=read&amp;page=%E8%A7%A3%E8%AA%AC%2F%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E6%AF%94%E8%BC%83%E3%81%A7%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3" rel="nofollow" title="http://ngmansion.xyz/wiki/hackfe/index.php?cmd=read&amp;page=%E8%A7%A3%E8%AA%AC%2F%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E6%AF%94%E8%BC%83%E3%81%A7%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3">http://ngmansion.xyz/wiki/hackfe/index.php?cmd=read&amp;page=%E8%A7%A3%E8%AA%AC%2F%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E6%AF%94%E8%BC%83%E3%81%A7%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3</a>
</p>
</div>
<div class="secedit editbutton_section editbutton_10"></div>
<!-- wikipage stop -->
</div>
<div class="docInfo"><bdi>en/guide/febuildergba/automatic_detection_of_bugs_by_3_points_diff_en.txt</bdi> · 最終更新: 2021/05/04 04:09 by <bdi>133.218.41.139</bdi></div>
</div></div><!-- /content -->
<hr class="a11y"/>
<!-- PAGE ACTIONS -->
</div><!-- /wrapper -->
<!-- ********** FOOTER ********** -->
<!-- /footer -->
</div></div><!-- /site -->
<div class="no" id="screen__mode"></div></body>
</html>
