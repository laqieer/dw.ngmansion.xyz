<!DOCTYPE html>

<html class="no-js" dir="ltr" lang="ja">
<head>
<meta charset="utf-8"/>
<title>guide:guide:febuildergba:dpcm_m4a_hq_mixer [FE改造wiki]</title>
<meta content="DokuWiki" name="generator"/>
<meta content="#008800" name="theme-color"/>
<meta content="index,follow" name="robots"/>
<meta content="guide,guide,febuildergba,dpcm_m4a_hq_mixer" name="keywords"/>
<!--[if gte IE 9]><!-->
<!--<![endif]-->
<meta content="width=device-width,initial-scale=1" name="viewport"/>
</head>
<body>
<div id="dokuwiki__site"><div class="site dokuwiki mode_show tpl_dokuwiki showSidebar hasSidebar" id="dokuwiki__top">
<!-- ********** HEADER ********** -->
<!-- /header -->
<div class="wrapper group">
<!-- ********** ASIDE ********** -->
<!-- /aside -->
<!-- ********** CONTENT ********** -->
<div id="dokuwiki__content"><div class="pad group">
<div class="pageId"><span>guide:guide:febuildergba:dpcm_m4a_hq_mixer</span></div>
<div class="page group">
<!-- wikipage start -->
<p>
FEBuilderGBAでもm4a hq mixerをサポートしました。<br/>
これにより圧縮音源(DPCM)がサポートされ、wavの容量を半分ぐらいに圧縮することができます。
</p>
<p>
遊び方
</p>
<h4 id="section0">0.</h4>
<div class="level4">
<p>
まずは最新版に更新しましょう。
</p>
</div>
<h4 id="section1">1.</h4>
<div class="level4">
<p>
<a class="media" href="https://cdn.discordapp.com/attachments/145137778710151168/896370860242403369/Clipboard01.png" title="https://cdn.discordapp.com/attachments/145137778710151168/896370860242403369/Clipboard01.png"><img alt="" class="media" src="https://cdn.discordapp.com/attachments/145137778710151168/896370860242403369/Clipboard01.png"/></a><br/>
m4a hq mixer patchをインストールします。
</p>
<p>
```<br/>
NAME=m4a hq mixer
</p>
<p>
INFO.en=Probably the successor to the Improved Sound Mixer.\r\nCompressed sound sources(DPCM) are supported from this version.<br/>
INFO=おそらくImproved Sound Mixerの後継となるバージョンです。\r\nこのバージョンから圧縮音源(DPCM)をサポートしています。
</p>
<p>
AUTHOR=ipatix <a class="urlextern" href="https://github.com/ipatix/gba-hq-mixer" rel="nofollow" title="https://github.com/ipatix/gba-hq-mixer">https://github.com/ipatix/gba-hq-mixer</a> , FE8U porting 7743<br/>
```
</p>
</div>
<h4 id="section2">2.</h4>
<div class="level4">
<p>
<a class="media" href="https://cdn.discordapp.com/attachments/145137778710151168/896370862926737418/Clipboard03.png" title="https://cdn.discordapp.com/attachments/145137778710151168/896370862926737418/Clipboard03.png"><img alt="" class="media" src="https://cdn.discordapp.com/attachments/145137778710151168/896370862926737418/Clipboard03.png"/></a><br/>
とりあえずwavインポートして動作を確認しましょう。
</p>
<p>
テストで利用するwavです。<br/>
波の音(CC0 public domain)<br/>
<a class="urlextern" href="https://cdn.discordapp.com/attachments/145137778710151168/896369669164924928/test_wave_.wav" rel="nofollow" title="https://cdn.discordapp.com/attachments/145137778710151168/896369669164924928/test_wave_.wav">https://cdn.discordapp.com/attachments/145137778710151168/896369669164924928/test_wave_.wav</a>
</p>
<p>
赤色が圧縮に関わる設定です。<br/>
黄色の部分はそれ以外で変更する部分です。
</p>
<p>
previewボタンを押すと、音を再生できます。<br/>
この時、圧縮された音源の場合は品質を示すSNRが表示されます。<br/>
数字が大きいほど良いとされ、20dB以上を推奨します。<br/>
30dB以上のスコアが出ていれば問題ないと思います。<br/>
それを下回った場合は、圧縮しない方が良いです。
</p>
<p>
圧縮により、wavのサイズが半分になっていることがわかります。
</p>
<p>
インポートボタンを押してインポートしましょう。
</p>
</div>
<h4 id="section3">3.</h4>
<div class="level4">
<p>
<a class="media" href="https://cdn.discordapp.com/attachments/145137778710151168/896370865091014678/Clipboard04.png" title="https://cdn.discordapp.com/attachments/145137778710151168/896370865091014678/Clipboard04.png"><img alt="" class="media" src="https://cdn.discordapp.com/attachments/145137778710151168/896370865091014678/Clipboard04.png"/></a><br/>
データをインポートしました。<br/>
圧縮された音源の場合は、sappy や VGMusicStadioでは正しく再生できないので、実際にゲームを起動して確認します。
</p>
</div>
<h4 id="section4">4.</h4>
<div class="level4">
<p>
サウンドルームに入って、実際に音を聞いてみましょう。<br/>
先ほどインポートした波の音が再生されれば成功です。
</p>
<p>
video:<br/>
<video class="media" controls="controls" height="240" width="320">
<source src="https://cdn.discordapp.com/attachments/145137778710151168/896369668326064139/1.mp4" type="video/mp4"/>
<a class="media mediafile mf_mp4" href="https://cdn.discordapp.com/attachments/145137778710151168/896369668326064139/1.mp4" title="https://cdn.discordapp.com/attachments/145137778710151168/896369668326064139/1.mp4">1.mp4</a></video>
</p>
<p>
以上。
</p>
</div>
<h4 id="トラブルシューティング">トラブルシューティング:</h4>
<div class="level4">
<p>
m4a hq mixerをインストールしていないと圧縮機能は利用できません。<br/>
その場合、以下のような表記になります。<br/>
<a class="media" href="https://cdn.discordapp.com/attachments/145137778710151168/896370868001853500/Clipboard08.png" title="https://cdn.discordapp.com/attachments/145137778710151168/896370868001853500/Clipboard08.png"><img alt="" class="media" src="https://cdn.discordapp.com/attachments/145137778710151168/896370868001853500/Clipboard08.png"/></a>
</p>
</div>
<h4 id="qa1">QA1:</h4>
<div class="level4">
<p>
Q:圧縮によってwavの性能は劣化しますか?
</p>
<p>
非可逆圧縮なので性能は劣化します。<br/>
そのため、圧縮前の元のwavは捨てずに保存しておくことをお勧めします。
</p>
<p>
これは、パッチがアップデートされて、もっと高性能な圧縮エンジンが登場する可能性があるためです。
</p>
</div>
<h4 id="qa2">QA2:</h4>
<div class="level4">
<p>
Q:バニラに存在するwavデータを圧縮して容量を開けることを推奨しますか?
</p>
<p>
推奨しません。<br/>
特にmidi楽器はもっと参照される楽器です。<br/>
そして、音階を変える変調もされます。<br/>
わずかな劣化であっても、予想外の結果を招く可能性が高いので推奨しません。
</p>
<p>
ただ、容量が無駄に大きい効果音などは圧縮してもいいかもしれません。<br/>
でも、バニラのデータに手を出す前に、他にやることがないか考えるべきです。
</p>
<p>
また、現時点では、圧縮は、wave内にloopが設定されているものには対応していません。<br/>
もし間違えて、それを圧縮してしまうと、以下のようになりますので、やらないことお勧めします。
</p>
</div>
<h4 id="qa3">QA3:</h4>
<div class="level4">
<p>
Q:mixer変更で他に影響はありますか?
</p>
<p>
たぶん、あります。<br/>
m4a hq mixerは、圧縮音源をサポートするライブラリではなく、mixerを改良するのを目的としているライブラリです。<br/>
よって、mixerがバニラから変更されるので、midiの再生にも影響を与えます。<br/>
それがどれくらいなのかについては、実際にインストールして既存楽曲を聞いてみるしかないです。<br/>
基本的に、楽曲はバニラのmixerに最適化して作られているので、影響を強く受ける曲があるかもしれません。<br/>
少なくとも影響が何もないとは言えないと思います。
</p>
</div>
<h4 id="qa4">QA4:</h4>
<div class="level4">
<p>
Q: midiを探すのが面倒なのでwav(DPCM)で音楽をROMに入れたいが、推奨しますか?
</p>
<p>
推奨しません。<br/>
waveが圧縮されて半分の容量になったとしても、1分で400kbは最低でも消費します。<br/>
midiだったら、1曲入れても1kb - 3kb ぐらいしか消費しません。<br/>
差が100倍以上あるので、推奨しません。
</p>
</div>
<!-- wikipage stop -->
</div>
<div class="docInfo"><bdi>guide/guide/febuildergba/dpcm_m4a_hq_mixer.txt</bdi> · 最終更新: 2021/10/09 21:35 by <bdi>220.100.68.157</bdi></div>
</div></div><!-- /content -->
<hr class="a11y"/>
<!-- PAGE ACTIONS -->
</div><!-- /wrapper -->
<!-- ********** FOOTER ********** -->
<!-- /footer -->
</div></div><!-- /site -->
<div class="no"><img alt="" height="1" src="../../../..//lib/exe/indexer.php?id=guide/guide/febuildergba/dpcm_m4a_hq_mixer&amp;1669731484" width="2"/></div>
<div class="no" id="screen__mode"></div></body>
</html>
