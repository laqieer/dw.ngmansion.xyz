<!DOCTYPE html>

<html class="no-js" dir="ltr" lang="ja">
<head>
<meta charset="utf-8"/>
<title>data:関数 [FE改造wiki]</title>
<meta content="DokuWiki" name="generator"/>
<meta content="#008800" name="theme-color"/>
<meta content="index,follow" name="robots"/>
<meta content="data,関数" name="keywords"/>
<!--[if gte IE 9]><!-->
<!--<![endif]-->
<meta content="width=device-width,initial-scale=1" name="viewport"/>
</head>
<body><a href="../../export_xhtml/data/関数.html">プレーンHTML</a> | <a href="../../export_raw/data/関数.txt">Wikiマークアップ</a><br/>
<div id="dokuwiki__site"><div class="site dokuwiki mode_show tpl_dokuwiki showSidebar hasSidebar" id="dokuwiki__top">
<!-- ********** HEADER ********** -->
<!-- /header -->
<div class="wrapper group">
<!-- ********** ASIDE ********** -->
<!-- /aside -->
<!-- ********** CONTENT ********** -->
<div id="dokuwiki__content"><div class="pad group">
<div class="pageId"><span>data:関数</span></div>
<div class="page group">
<!-- wikipage start -->
<!-- TOC START -->
<div class="dw__toc" id="dw__toc">
<h3 class="toggle">目次</h3>
<div>
<ul class="toc">
<li class="level1"><div class="li"><a href="#x080b9dec_売り値を求める関数">0x080B9DEC  売り値を求める関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x0800d340_イベント命令を動作させる関数">0x0800d340  イベント命令を動作させる関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数1">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値1">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample1">sample</a></div></li>
<li class="level3"><div class="li"><a href="#注意点">注意点</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x080860a8_フラグを立てる関数">0x080860A8 フラグを立てる関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数2">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値2">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample2">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x080860d0_フラグ状態確認関数">0x080860D0 フラグ状態確認関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数3">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値3">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample3">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x0800d548_文字列番号の会話を表示する関数">0x0800D548 文字列番号の会話を表示する関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数4">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値4">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample4">sample</a></div></li>
<li class="level3"><div class="li"><a href="#注意">注意</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x080d4ef4_効果音を鳴らす関数">0x080d4ef4 効果音を鳴らす関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数5">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値5">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample5">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x0802cb70_経験値_10する関数">0x0802cb70 経験値+10する関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数6">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値6">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample6">sample</a></div></li>
<li class="level3"><div class="li"><a href="#注意1">注意</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#x08034520_マップ番号から_マップ設定のポインタを返す関数">0x08034520 マップ番号から、マップ設定のポインタを返す関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数7">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値7">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample7">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#a8d94_クリアターンを書き込む関数">080a8d94 クリアターンを書き込む関数</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数8">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値8">戻り値</a></div></li>
<li class="level3"><div class="li"><a href="#sample8">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#c30_6c_structスクリプトロード">08002c30 6C Structスクリプトロード</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数9">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値9">戻り値</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#d68_パレット読込">08000d68 パレット読込</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数10">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値10">戻り値</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#圧縮されているデータの解凍">08013008 圧縮されているデータの解凍</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数11">引数</a></div></li>
<li class="level3"><div class="li"><a href="#戻り値11">戻り値</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#dc0dc_無圧縮tsa読込">080dc0dc 無圧縮TSA読込?</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数12">引数</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#会話_0080_0005で参照できるところに数字を書く">08008914 会話@0080@0005で参照できるところに数字を書く</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#sample9">sample</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#bgmを切り替える">08002424 BGMを切り替える</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数13">引数</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#c8_bgmを切り替える">080023C8 BGMを切り替える</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数14">引数</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#bgmを切り替える1">08002398 BGMを切り替える</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#引数15">引数</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#c_ステータス画面1のレイアウト処理">0808941c ステータス画面1のレイアウト処理</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="#抜粋">抜粋</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#エイリーク編_ヴェルニ出現後_に切り替え">08088830 エイリーク編(ヴェルニ出現後)に切り替え</a></div></li>
<li class="level1"><div class="li"><a href="#c_エフラム編に切り替え">0808884c エフラム編に切り替え</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<p>
FE改造で使えそうな関数があったら追記してください。<br/>
</p>
<h1 class="sectionedit1" id="x080b9dec_売り値を求める関数">0x080B9DEC  売り値を求める関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_1"></div>
<h3 class="sectionedit2" id="引数">引数</h3>
<div class="level3">
<p>
引数 r0 に、個数 « 8 + アイテムID、として渡す。<br/>
例:レイピア60個  0x3c09 3c=60 09=レイピアのアイテムID<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_2"></div>
<h3 class="sectionedit3" id="戻り値">戻り値</h3>
<div class="level3">
<p>
売値が r0 で返ってくる。
</p>
</div>
<div class="secedit editbutton_section editbutton_3"></div>
<h3 class="sectionedit4" id="sample">sample</h3>
<div class="level3">
<pre class="code">mov r0,0x09 ;レイピア
mov r1,0x3c ;60個
lsl r1,#0x8 ;個数 &lt;&lt; 8 + アイテムID
add r0,r1   ;

ldr		r1,=$080B9DEC
mov		lr, r1
@dcw	$F800

;r0に売値が返ってくる.</pre>
</div>
<div class="secedit editbutton_section editbutton_4"></div>
<h1 class="sectionedit5" id="x0800d340_イベント命令を動作させる関数">0x0800d340  イベント命令を動作させる関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_5"></div>
<h3 class="sectionedit6" id="引数1">引数</h3>
<div class="level3">
<p>
引数 r0 に、呼び出したいイベント命令のポインタを設定する。<br/>
引数 r1 に、謎の引数を設定する1-3まであるらしい。とりあえず1推奨。<br/>
<br/>
注意: ポインタは mov ではなく、ldr でセットしないと値が消えて null になるよ。<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_6"></div>
<h3 class="sectionedit7" id="戻り値1">戻り値</h3>
<div class="level3">
<p>
不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_7"></div>
<h3 class="sectionedit8" id="sample1">sample</h3>
<div class="level3">
<pre class="code">;093AA9B0 においてあるイベントを呼び出す場合
ldr r0, =$093AA9B0	;呼びだしたいイベント命令
mov r1,#0x1			;とりあえず1
ldr		r2,=$0800d340	;イベント呼び出し
mov		lr, r2
@dcw	$F800</pre>
</div>
<div class="secedit editbutton_section editbutton_8"></div>
<h3 class="sectionedit9" id="注意点">注意点</h3>
<div class="level3">
<p>
この命令を呼ぶと、イベントキューみたいなものに情報が詰まれ、<br/>
メニュー等を閉じた時にイベントが発動するらしい？<br/>
この命令を連続して呼ぶと、呼んだ数だけイベントが動作する。<br/>
戦闘準備などのwindowsでいうモーダルダイアログのようなものを実行している間はイベントが発動しない。(閉じれば発動する)<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_9"></div>
<h1 class="sectionedit10" id="x080860a8_フラグを立てる関数">0x080860A8 フラグを立てる関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_10"></div>
<h3 class="sectionedit11" id="引数2">引数</h3>
<div class="level3">
<p>
引数 r0 に、立てたいフラグを番号を書く。<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_11"></div>
<h3 class="sectionedit12" id="戻り値2">戻り値</h3>
<div class="level3">
<p>
不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_12"></div>
<h3 class="sectionedit13" id="sample2">sample</h3>
<div class="level3">
<pre class="code">;フラグ1番を立てる場合
mov r0,#0x1   ; 立てたいフラグ番号
ldr	r1, =$080860A8
mov	r14, r1
@dcw	$F800</pre>
</div>
<div class="secedit editbutton_section editbutton_13"></div>
<h1 class="sectionedit14" id="x080860d0_フラグ状態確認関数">0x080860D0 フラグ状態確認関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_14"></div>
<h3 class="sectionedit15" id="引数3">引数</h3>
<div class="level3">
<p>
引数 r0 にチェックしたいフラグIDを入れる<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_15"></div>
<h3 class="sectionedit16" id="戻り値3">戻り値</h3>
<div class="level3">
<p>
r0=0 フラグがオフの状態<br/>
r0=1 フラグがオンの状態<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_16"></div>
<h3 class="sectionedit17" id="sample3">sample</h3>
<div class="level3">
<pre class="code">;フラグ1番の状態を確認する場合
mov	r0,#0x1   ; チェックしたいフラグ番号
ldr	r1, =$080860D0
mov	r14, r1
@dcw	$F800</pre>
</div>
<div class="secedit editbutton_section editbutton_17"></div>
<h1 class="sectionedit18" id="x0800d548_文字列番号の会話を表示する関数">0x0800D548 文字列番号の会話を表示する関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_18"></div>
<h3 class="sectionedit19" id="引数4">引数</h3>
<div class="level3">
<p>
引数 r0 に、文字列番号を入れる<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_19"></div>
<h3 class="sectionedit20" id="戻り値4">戻り値</h3>
<div class="level3">
<p>
不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_20"></div>
<h3 class="sectionedit21" id="sample4">sample</h3>
<div class="level3">
<pre class="code">;オニールの死亡台詞 8D7 を出す
mov     r0,#0x8D7 ;多分これでいい。ダメならldrで。
ldr	r1, =$0800D548
mov	r14, r1
@dcw	$F800</pre>
</div>
<div class="secedit editbutton_section editbutton_21"></div>
<h3 class="sectionedit22" id="注意">注意</h3>
<div class="level3">
<p>
この関数はくせがあるらしく、あとの処理でwaitがかからないと、@0003が複数あるとおかしくなることがある？<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_22"></div>
<h1 class="sectionedit23" id="x080d4ef4_効果音を鳴らす関数">0x080d4ef4 効果音を鳴らす関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_23"></div>
<h3 class="sectionedit24" id="引数5">引数</h3>
<div class="level3">
<p>
引数 r0 に、文字列番号を入れる<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_24"></div>
<h3 class="sectionedit25" id="戻り値5">戻り値</h3>
<div class="level3">
<p>
不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_25"></div>
<h3 class="sectionedit26" id="sample5">sample</h3>
<div class="level3">
<pre class="code">;効果音 0x6a番を鳴らす
mov r0,#0x6a
ldr r2,=$080d4ef4	;効果音を鳴らす
mov lr, r2
@dcw	$F800</pre>
<p>
ただし、この関数は、必ず効果音を鳴らしてしまうので、設定の是非を確認する必要がある。<br/>
</p>
<pre class="code">ldr r0,=$0202bcec ;設定で効果音がONかどうか
add r0,#0x41
ldrb r0,[r0]
lsl r0,r0,#0x1e
cmp r0,#0x0
beq sound_skip

mov r0,#0x6a
ldr r2,=$080d4ef4	;効果音を鳴らす
mov lr, r2
@dcw	$F800

sound_skip</pre>
</div>
<div class="secedit editbutton_section editbutton_26"></div>
<h1 class="sectionedit27" id="x0802cb70_経験値_10する関数">0x0802cb70 経験値+10する関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_27"></div>
<h3 class="sectionedit28" id="引数6">引数</h3>
<div class="level3">
<p>
引数 r0 に、経験値をあげたいキャラクタへのポインタが入る(多分)<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_28"></div>
<h3 class="sectionedit29" id="戻り値6">戻り値</h3>
<div class="level3">
<p>
不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_29"></div>
<h3 class="sectionedit30" id="sample6">sample</h3>
<div class="level3">
<pre class="code">ldr	r0, [経験値をあげたいキャラクタへのポインタ]
ldr	r2, =$0802cb70 ;;+10 経験値取得関数へ
mov	r14, r2
@dcw	$F800</pre>
</div>
<div class="secedit editbutton_section editbutton_30"></div>
<h3 class="sectionedit31" id="注意1">注意</h3>
<div class="level3">
<p>
もし、任意の経験値をあげたい場合は、怪盗パッチのasmの kaihou_ex.asm を参考にしてください。<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_31"></div>
<h1 class="sectionedit32" id="x08034520_マップ番号から_マップ設定のポインタを返す関数">0x08034520 マップ番号から、マップ設定のポインタを返す関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_32"></div>
<h3 class="sectionedit33" id="引数7">引数</h3>
<div class="level3">
<p>
引数 r0 に、マップIDを入れる<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_33"></div>
<h3 class="sectionedit34" id="戻り値7">戻り値</h3>
<div class="level3">
<p>
r0に、マップ設定のポインタが返ってくる<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_34"></div>
<h3 class="sectionedit35" id="sample7">sample</h3>
<div class="level3">
<pre class="code">mov	r0, #0x01 #1章のマップ設定が見たい
ldr	r2, =$08034520 ;;
mov	r14, r2
@dcw	$F800</pre>
<pre class="code">;;r0 にマップ設定のポインタが返ってくる</pre>
</div>
<div class="secedit editbutton_section editbutton_35"></div>
<h1 class="sectionedit36" id="a8d94_クリアターンを書き込む関数">080a8d94 クリアターンを書き込む関数</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_36"></div>
<h3 class="sectionedit37" id="引数8">引数</h3>
<div class="level3">
<p>
引数 r0 に、202bcecを入れる(固定？)<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_37"></div>
<h3 class="sectionedit38" id="戻り値8">戻り値</h3>
<div class="level3">
<p>
なし
</p>
</div>
<div class="secedit editbutton_section editbutton_38"></div>
<h3 class="sectionedit39" id="sample8">sample</h3>
<div class="level3">
<pre class="code">;引数 r0
ldr		r0,=$202bcec
;ターン数書込関数呼び出し
ldr		r1,=$080a8d94
mov		lr, r1
@dcw	$F800</pre>
<p>
0203ECF0- からの領域に、クリアターンを書き込みます。<br/>
これを使ったあとは、 #0x03フラグを降ろさないと、2度書きすることがあるので注意
</p>
</div>
<div class="secedit editbutton_section editbutton_39"></div>
<h1 class="sectionedit40" id="c30_6c_structスクリプトロード">08002c30 6C Structスクリプトロード</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_40"></div>
<h3 class="sectionedit41" id="引数9">引数</h3>
<div class="level3">
<p>
引数 r0 に、スクリプトアドレス<br/>
引数 r1 は不明<br/>
<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_41"></div>
<h3 class="sectionedit42" id="戻り値9">戻り値</h3>
<div class="level3">
<p>
不明
</p>
</div>
<div class="secedit editbutton_section editbutton_42"></div>
<h1 class="sectionedit43" id="d68_パレット読込">08000d68 パレット読込</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_43"></div>
<h3 class="sectionedit44" id="引数10">引数</h3>
<div class="level3">
<p>
引数 r0 に、パレットアドレス<br/>
引数 r1 は不明<br/>
引数 r2 は不明<br/>
<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_44"></div>
<h3 class="sectionedit45" id="戻り値10">戻り値</h3>
<div class="level3">
<p>
不明
</p>
</div>
<div class="secedit editbutton_section editbutton_45"></div>
<h1 class="sectionedit46" id="圧縮されているデータの解凍">08013008 圧縮されているデータの解凍</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_46"></div>
<h3 class="sectionedit47" id="引数11">引数</h3>
<div class="level3">
<p>
引数 r0 に、読み込む lz77圧縮されている画像やデータ<br/>
引数 r1 に、解凍後に配置するBGアドレスorメモリアドレス<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_47"></div>
<h3 class="sectionedit48" id="戻り値11">戻り値</h3>
<div class="level3">
<p>
不明
</p>
</div>
<div class="secedit editbutton_section editbutton_48"></div>
<h1 class="sectionedit49" id="dc0dc_無圧縮tsa読込">080dc0dc 無圧縮TSA読込?</h1>
<div class="level1">
</div>
<div class="secedit editbutton_section editbutton_49"></div>
<h3 class="sectionedit50" id="引数12">引数</h3>
<div class="level3">
<p>
引数 r0 は不明<br/>
引数 r1 は無圧縮TSAアドレス<br/>
引数 r2 は不明<br/>
引数 r3 は不明<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_50"></div>
<h1 class="sectionedit51" id="会話_0080_0005で参照できるところに数字を書く">08008914 会話@0080@0005で参照できるところに数字を書く</h1>
<div class="level1">
<p>
引数 r0 に表示したい数字<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_51"></div>
<h3 class="sectionedit52" id="sample9">sample</h3>
<div class="level3">
<pre class="code">ldr		r0,=$00123456 ;表示したい数字
ldr		r1,=$08008914
mov		lr, r1
@dcw	$F800</pre>
<p>
<br/>
注意点:@0080@0005は吹きだしの会話でしか取れない。システムメッセージでは読めない。<br/>
<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_52"></div>
<h1 class="sectionedit53" id="bgmを切り替える">08002424 BGMを切り替える</h1>
<div class="level1">
<p>
BGM入りかえの最上位関数？<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_53"></div>
<h3 class="sectionedit54" id="引数13">引数</h3>
<div class="level3">
<p>
引数 r0 がBGM番号<br/>
引数 r1 は謎、下位の080023C8のr2として渡される.<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_54"></div>
<h1 class="sectionedit55" id="c8_bgmを切り替える">080023C8 BGMを切り替える</h1>
<div class="level1">
<p>
現在のBGMなどを加味して、必要なら曲切り替え命令を発行する。<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_55"></div>
<h3 class="sectionedit56" id="引数14">引数</h3>
<div class="level3">
<p>
引数 r0 がBGM番号<br/>
引数 r1 は謎<br/>
引数 r2 は謎<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_56"></div>
<h1 class="sectionedit57" id="bgmを切り替える1">08002398 BGMを切り替える</h1>
<div class="level1">
<p>
メモリにBGM番号を書き込みをして、BGMを切り替える。<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_57"></div>
<h3 class="sectionedit58" id="引数15">引数</h3>
<div class="level3">
<p>
引数 r0 がBGM番号<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_58"></div>
<h1 class="sectionedit59" id="c_ステータス画面1のレイアウト処理">0808941c ステータス画面1のレイアウト処理</h1>
<div class="level1">
<p>
文字表示、ゲージ表示、数値表示、属性アイコン表示、勝敗数表示などの処理が含まれている。<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_59"></div>
<h3 class="sectionedit60" id="抜粋">抜粋</h3>
<div class="level3">
<pre class="code">00089554 68e8     	ldr	r0, [r5, #12]	
00089556 f78f fd05	bl	$00018f64=補正込み守備読み込み
0008955a 68e9     	ldr	r1, [r5, #12]
0008955c 2317     	mov	r3, #23
0008955e 56cb     	ldsb	r3, [r1, r3]	//守備読み込み
00089560 9000     	str	r0, [sp, #0]	//補正込み守備書き込み
00089562 6848     	ldr	r0, [r1, #4]
00089564 7dc0     	ldrb	r0, [r0, #23]	//守備上限読み込み
00089566 0600     	lsl	r0, r0, #24
00089568 1600     	asr	r0, r0, #24
0008956a 9001     	str	r0, [sp, #4]	//守備上限書き込み
0008956c 2004     	mov	r0, #4
0008956e 2105     	mov	r1, #5	//ゲージx座標
00089570 2209     	mov	r2, #9	//ゲージy座標
00089572 f7ff feef	bl	$00089354	//ゲージ表示処理</pre>
</div>
<div class="secedit editbutton_section editbutton_60"></div>
<h1 class="sectionedit61" id="エイリーク編_ヴェルニ出現後_に切り替え">08088830 エイリーク編(ヴェルニ出現後)に切り替え</h1>
<div class="level1">
<p>
主人公がエイリーク($01)になる<br/>
<br/>
</p>
<pre class="code">400d0000 31880808</pre>
<p>
上記のようにすれば、イベント命令として章イベント中に実行できるが、本来は章分岐の関数を無理矢理呼んでいるだけなので、副作用があるかもしれない<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_61"></div>
<h1 class="sectionedit62" id="c_エフラム編に切り替え">0808884c エフラム編に切り替え</h1>
<div class="level1">
<p>
主人公がエフラム($0F)になる<br/>
<br/>
</p>
<pre class="code">400d0000 4d880808</pre>
<p>
上記のようにすれば、イベント命令として章イベント中に実行できるが、本来は章分岐の関数を無理矢理呼んでいるだけなので、副作用があるかもしれない<br/>
</p>
</div>
<div class="secedit editbutton_section editbutton_62"></div>
<!-- wikipage stop -->
</div>
<div class="docInfo"><bdi>data/関数.txt</bdi> · 最終更新: 2018/09/09 00:14 (外部編集)</div>
</div></div><!-- /content -->
<hr class="a11y"/>
<!-- PAGE ACTIONS -->
</div><!-- /wrapper -->
<!-- ********** FOOTER ********** -->
<!-- /footer -->
</div></div><!-- /site -->
<div class="no" id="screen__mode"></div></body>
</html>
